(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{63:function(n,t,e){n.exports=e(87)},65:function(n,t,e){},66:function(n,t,e){},74:function(n,t,e){},83:function(n,t,e){},84:function(n,t,e){},85:function(n,t,e){},87:function(n,t,e){"use strict";e.r(t);var r=e(0),u=e.n(r),c=(e(65),e(66),e(45)),a=e(34),o=e(21),i=e(47),p=e(35),s=e(48),l=(e(74),e(125)),m=e(122),y=e(123),h=function(n){function t(n){var e;Object(a.a)(this,t),(e=Object(i.a)(this,Object(p.a)(t).call(this,n))).handleAmountChange=function(n){e.props.actions.changeAmount(e.truncate(n))},e.handleCurrencyChange=function(n){e.props.actions.changeCurrency(e.props.currencyOptions.find(function(t){return t.currency===n}))};var r=n.amount,u=n.currency,c=n.currencyOptions,o=n.actions;return e.state={amount:r,currency:u,currencyOptions:c,actions:o},e}return Object(s.a)(t,n),Object(o.a)(t,[{key:"truncate",value:function(n){var t=n.toString().match(/^\d+(?:\.\d{0,2})?/);return t?t[0]:""}},{key:"render",value:function(){var n=this,t=this.props.currencyOptions.map(function(n){return u.a.createElement(l.a,{key:n.currency,value:n.currency},n.currency)});return u.a.createElement("div",{className:"CurrencyInput"},u.a.createElement(m.a,{value:this.props.currency.currency,onChange:function(t){return n.handleCurrencyChange(t.target.value)}},t),u.a.createElement(y.a,{type:"number",value:this.props.amount,onChange:function(t){return n.handleAmountChange(t.target.value)},margin:"normal"}))}}]),t}(u.a.Component);e(83),e(84);function E(n){return u.a.createElement("div",{className:"Rate"},u.a.createElement("span",null,"1\xa0",n.inputCurrency.symbol,"\xa0=\xa0"),u.a.createElement("span",{className:"Rate_value"},n.rate),u.a.createElement("span",{className:""},"\xa0",n.outputCurrency.symbol))}e(85);function C(n){return u.a.createElement("span",{className:"Balance"},u.a.createElement("span",null,n.amount,"\xa0"),u.a.createElement("span",null,n.currency.symbol))}var b=e(61),f=e(121),A=e(88),v=Object(A.a)({root:{background:"#d80091",width:"100%",height:"30px",color:"white",textTransform:"none"}})(function(n){var t=n.classes,e=(n.color,Object(b.a)(n,["classes","color"]));return u.a.createElement(f.a,Object.assign({color:"secondary",className:t.root,classes:{disabled:t.disabled}},e))}),O=function(n){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(s.a)(t,n),Object(o.a)(t,[{key:"componentDidMount",value:function(){var n=this;this.props.fetchRates(this.props.inputCurrency,this.props.outputCurrency),clearInterval(this.fetchInterval),this.fetchInterval=setInterval(function(){return n.props.fetchRates(n.props.inputCurrency,n.props.outputCurrency)},1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.fetchInterval)}},{key:"render",value:function(){return u.a.createElement("div",{className:"Exchanger"},u.a.createElement("div",{className:"Exchanger_top-section"},u.a.createElement(h,{className:"Exchanger_input",amount:this.props.inputAmount,currency:this.props.inputCurrency,currencyOptions:this.props.currencyOptions,actions:{changeAmount:this.props.changeInputAmount,changeCurrency:this.props.changeInputCurrency}}),u.a.createElement("div",{className:"Exchanger_field"},u.a.createElement("span",{className:"Exchanger_label"},"You have"),u.a.createElement(C,{amount:this.props.availableInputAmount,currency:this.props.inputCurrency}))),u.a.createElement("div",{className:"Exchanger_bottom-section"},u.a.createElement("div",{className:"Exchanger_rate"},u.a.createElement(E,{rate:this.props.currencyRate,inputCurrency:this.props.inputCurrency,outputCurrency:this.props.outputCurrency})),u.a.createElement(h,{amount:this.props.outputAmount,currency:this.props.outputCurrency,currencyOptions:this.props.currencyOptions,actions:{changeAmount:this.props.changeOutputAmount,changeCurrency:this.props.changeOutputCurrency}}),u.a.createElement("div",{className:"Exchanger_field"},u.a.createElement("span",{className:"Exchanger_label"},"You have"),u.a.createElement(C,{amount:this.props.availableOutputAmount,currency:this.props.outputCurrency})),u.a.createElement("div",{className:"Exchanger_submit"},u.a.createElement(v,{variant:"extended","aria-label":"Exchange",onClick:this.props.exchange,disabled:this.props.availableInputAmount<this.props.inputAmount||!Number(this.props.inputAmount)},"Exchange"))))}}]),t}(u.a.Component),d=e(59),g=e.n(d),R=function(n){return{type:"CHANGE_INPUT_CURRENCY",currency:n}},N=function(n){return{type:"CHANGE_OUTPUT_CURRENCY",currency:n}},_=function(n){return{type:"RECEIVE_CURRENCY_RATES",rate:n}},U=function(n,t){return function(e){n.currency!==t.currency?(e({type:"LOAD_CURRENCY_RATES"}),function(n,t){return g()("https://api.exchangeratesapi.io/latest?base=".concat(n.currency,"&symbols=").concat(t.currency))}(n,t).then(function(n){return n.json()},function(n){return e({type:"ERROR_CURRENCY_RATES"})}).then(function(n){return e(_(n.rates[t.currency]))})):e(_(1))}},j=Object(c.b)(function(n){var t=n.currencyExchange;return{inputAmount:t.inputAmount,inputCurrency:t.inputCurrency,outputAmount:t.outputAmount,outputCurrency:t.outputCurrency,currencyRate:t.currencyRate,currencyOptions:t.currencyOptions,availableInputAmount:t.availableInputAmount,availableOutputAmount:t.availableOutputAmount}},function(n){return{changeInputAmount:function(t){return n(function(n){return{type:"CHANGE_INPUT_AMOUNT",amount:n}}(t))},changeInputCurrency:function(t){return n(function(n){return function(t,e){var r=e().currencyExchange;t(R(n)),t(U(n,r.outputCurrency))}}(t))},changeOutputAmount:function(t){return n(function(n){return{type:"CHANGE_OUTPUT_AMOUNT",amount:n}}(t))},changeOutputCurrency:function(t){return n(function(n){return function(t,e){var r=e().currencyExchange;t(N(n)),t(U(r.inputCurrency,n))}}(t))},exchange:function(t){return n({type:"EXCHANGE"})},fetchRates:function(t,e){return n(U(t,e))}}})(O);var I=function(){return u.a.createElement("div",{className:"App"},u.a.createElement("header",{className:"App-header"},u.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=e(7),T=e(19),k=e(16),w={inputAmount:"",inputCurrency:{currency:"EUR",symbol:"\u20ac"},outputAmount:"",outputCurrency:{currency:"USD",symbol:"$"},currencyOptions:[{currency:"USD",symbol:"$"},{currency:"EUR",symbol:"\u20ac"},{currency:"GBP",symbol:"\xa3"}],currencyRate:1.13,loadingRates:!1,availableInputAmount:100,availableOutputAmount:100,pocket:[{currency:"USD",amount:100},{currency:"EUR",amount:100},{currency:"GBP",amount:100}]},G=function(n){return Math.round(100*n)/100},Y=function(n,t){var e=n.find(function(n){return n.currency===t.currency});return e?e.amount:0},S=Object(T.combineReducers)({currencyExchange:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXCHANGE":var e=function(n){return n.inputCurrency.currency===n.outputCurrency.currency||n.availableInputAmount<Number(n.inputAmount)||!n.inputAmount?n.pocket:n.pocket.map(function(t){return t.currency===n.inputCurrency.currency?Object(k.a)({},t,{amount:G(t.amount-=Number(n.inputAmount))}):t.currency===n.outputCurrency.currency?Object(k.a)({},t,{amount:G(t.amount+=Number(n.outputAmount))}):t})}(n);return Object(k.a)({},n,{inputAmount:0,outputAmount:0,availableInputAmount:Y(e,n.inputCurrency),availableOutputAmount:Y(e,n.outputCurrency),pocket:e});case"CHANGE_INPUT_AMOUNT":return Object(k.a)({},n,{inputAmount:t.amount,outputAmount:G(t.amount*n.currencyRate)});case"CHANGE_INPUT_CURRENCY":return Object(k.a)({},n,{inputCurrency:t.currency,availableInputAmount:Y(n.pocket,t.currency)});case"CHANGE_OUTPUT_AMOUNT":return Object(k.a)({},n,{inputAmount:G(t.amount/n.currencyRate),outputAmount:t.amount});case"CHANGE_OUTPUT_CURRENCY":return Object(k.a)({},n,{outputCurrency:t.currency,availableOutputAmount:Y(n.pocket,t.currency)});case"LOAD_CURRENCY_RATES":return Object(k.a)({},n,{loadingRates:!0});case"RECEIVE_CURRENCY_RATES":return Object(k.a)({},n,{loadingRates:!1,currencyRate:G(t.rate),outputAmount:G(n.inputAmount*t.rate)});case"ERROR_CURRENCY_RATES":return Object(k.a)({},n,{loadingRates:!1});default:return n}}}),H=(e(86),e(60));console.log("production");var P=Object(T.createStore)(S,Object(T.applyMiddleware)(H.a));Object(x.render)(u.a.createElement(c.a,{store:P},u.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[63,1,2]]]);
//# sourceMappingURL=main.42a9e3ec.chunk.js.map