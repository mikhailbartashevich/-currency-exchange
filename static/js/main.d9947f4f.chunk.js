(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{66:function(n,t,e){n.exports=e(90)},68:function(n,t,e){},69:function(n,t,e){},77:function(n,t,e){},78:function(n,t,e){},87:function(n,t,e){},88:function(n,t,e){},90:function(n,t,e){"use strict";e.r(t);var r=e(0),u=e.n(r),c=(e(68),e(69),e(48)),a=(e(77),e(78),e(128)),o=e(126),i=e(130),p=e(127),s=e(131),l=e(14),m=e(4),y=e.n(m),E=(y.a.shape({currency:y.a.string,symbol:y.a.string}),Object(l.b)(function(n){var t=(n.currencyOptions||[]).map(function(n){return u.a.createElement(a.a,{key:n.currency,value:n.currency},n.currency)});return u.a.createElement("div",{className:"CurrencyInput"},u.a.createElement(o.a,{input:u.a.createElement(i.a,null),className:"CurrencyInput_select",value:n.currency?n.currency.currency:"",onChange:function(t){return function(n){return function(t){return n.actions.changeCurrency(n.currencyOptions.find(function(n){return n.currency===t}))}}(n)(t.target.value)}},t),u.a.createElement(p.a,{type:"number",variant:"outlined",InputProps:{startAdornment:u.a.createElement(s.a,{position:"start"},n.currency.symbol)},value:n.amount,onChange:function(t){return function(n){return function(t){return n.actions.changeAmount(function(n){var t=n.toString().match(/^\d+(?:\.\d{0,2})?/);return t?t[0]:""}(t))}}(n)(t.target.value)}}))})),C=(e(87),Object(l.b)(function(n){return u.a.createElement("div",{className:"Rate"},"1 ",n.inputCurrency?n.inputCurrency.symbol:""," = ",n.rate," ",n.outputCurrency?n.outputCurrency.symbol:"")})),b=(e(88),Object(l.b)(function(n){return u.a.createElement("span",{className:"Balance"},n.amount," ",n.currency?n.currency.symbol:"")})),A=e(47),h=e(123),f=e(91),g=Object(l.b)(Object(f.a)({root:{background:"#d80091",width:"100%",height:"30px",color:"white",textTransform:"none"}})(function(n){var t=n.classes,e=(n.color,Object(A.a)(n,["classes","color"]));return u.a.createElement(h.a,Object.assign({color:"secondary",className:t.root,classes:{disabled:t.disabled}},e))})),v=e(124),d=e(125),O=Object(l.b)(Object(f.a)({icon:{color:"#6d8aff"}})(function(n){var t=n.classes,e=Object(A.a)(n,["classes"]);return u.a.createElement(v.a,Object.assign({size:"small"},e,{className:"SwapIconButton"}),u.a.createElement(d.a,{className:t.icon},"swap_vert"))})),R=Object(l.b)(Object(l.a)({componentDidMount:function(){var n=this;this.props.fetchRates&&this.props.fetchRates(this.props.inputCurrency,this.props.outputCurrency),this.fetchInterval=setInterval(function(){return n.props.fetchRates(n.props.inputCurrency,n.props.outputCurrency)},1e4)},componentWillUnmount:function(){clearInterval(this.fetchInterval)}})(function(n){return u.a.createElement("div",{className:"Exchanger"},u.a.createElement("div",{className:"Exchanger_top-section"},u.a.createElement(E,{className:"Exchanger_input",amount:n.inputAmount,currency:n.inputCurrency,currencyOptions:n.currencyOptions,actions:{changeAmount:n.changeInputAmount,changeCurrency:n.changeInputCurrency}}),u.a.createElement("div",{className:"Exchanger_balance"},u.a.createElement("span",{className:"Exchanger_label"},"You have"),u.a.createElement(b,{amount:n.availableInputAmount,currency:n.inputCurrency}))),u.a.createElement("div",{className:"Exchanger_bottom-section"},u.a.createElement("div",{className:"Exchanger_rate"},u.a.createElement(C,{rate:n.currencyRate,inputCurrency:n.inputCurrency,outputCurrency:n.outputCurrency})),u.a.createElement(O,{onClick:n.swapCurrencies}),u.a.createElement(E,{amount:n.outputAmount,currency:n.outputCurrency,currencyOptions:n.currencyOptions,actions:{changeAmount:n.changeOutputAmount,changeCurrency:n.changeOutputCurrency}}),u.a.createElement("div",{className:"Exchanger_balance"},u.a.createElement("span",{className:"Exchanger_label"},"You have"),u.a.createElement(b,{amount:n.availableOutputAmount,currency:n.outputCurrency})),u.a.createElement("div",{className:"Exchanger_submit"},u.a.createElement(g,{variant:"extended","aria-label":"Exchange",onClick:n.exchange,disabled:n.availableInputAmount<n.inputAmount||!Number(n.inputAmount)},"Exchange"))))})),N=function(n,t){return function(e,r){var u=n||r().currencyExchange.outputCurrency,c=t||r().currencyExchange.inputCurrency;return e(function(n,t){return{type:"UPDATE_ALL_CURRENCIES",inputCurrency:n,outputCurrency:t}}(u,c)),e(j(u,c))}},_=function(n){return{type:"CHANGE_INPUT_CURRENCY",currency:n}},U=function(n){return{type:"CHANGE_OUTPUT_CURRENCY",currency:n}},j=function(n,t){return function(e){return e({type:"LOAD_CURRENCY_RATES"}),function(n,t){return fetch("https://api.exchangeratesapi.io/latest?base=".concat(n.currency,"&symbols=").concat(t.currency))}(n,t).then(function(n){return n.json()},function(n){return e({type:"ERROR_CURRENCY_RATES"})}).then(function(n){return e({type:"RECEIVE_CURRENCY_RATES",rate:n.rates[t.currency]})})}},I=Object(c.b)(function(n){var t=n.currencyExchange;return{inputAmount:t.inputAmount,inputCurrency:t.inputCurrency,outputAmount:t.outputAmount,outputCurrency:t.outputCurrency,currencyRate:t.currencyRate,currencyOptions:t.currencyOptions,availableInputAmount:t.availableInputAmount,availableOutputAmount:t.availableOutputAmount}},function(n){return{changeInputAmount:function(t){return n(function(n){return{type:"CHANGE_INPUT_AMOUNT",amount:n}}(t))},changeInputCurrency:function(t){return n((e=t,function(n,t){var r=t().currencyExchange.outputCurrency;return e.currency===r.currency?n(N(e,t().currencyExchange.inputCurrency)):(n(_(e)),n(j(e,r)))}));var e},changeOutputAmount:function(t){return n(function(n){return{type:"CHANGE_OUTPUT_AMOUNT",amount:n}}(t))},changeOutputCurrency:function(t){return n((e=t,function(n,t){var r=t().currencyExchange.inputCurrency;return r.currency===e.currency?n(N(t().currencyExchange.outputCurrency,e)):(n(U(e)),n(j(r,e)))}));var e},exchange:function(t){return n({type:"EXCHANGE"})},fetchRates:function(t,e){return n(j(t,e))},swapCurrencies:function(t){return n(N())}}})(R);var x=function(){return u.a.createElement("div",{className:"App"},u.a.createElement("header",{className:"App-header"},u.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=e(8),w=e(22),S=e(18),k={inputAmount:"0",inputCurrency:{currency:"EUR",symbol:"\u20ac"},outputAmount:"0",outputCurrency:{currency:"USD",symbol:"$"},currencyOptions:[{currency:"USD",symbol:"$"},{currency:"EUR",symbol:"\u20ac"},{currency:"GBP",symbol:"\xa3"}],currencyRate:1.13,loadingRates:!1,availableInputAmount:100,availableOutputAmount:100,pocket:[{currency:"USD",amount:100},{currency:"EUR",amount:100},{currency:"GBP",amount:100}],lastUpdatedAmount:"input"},P=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.round(n*t)/t},G=function(n,t){var e=n.find(function(n){return n.currency===t.currency});return e?e.amount:0},Y=Object(w.combineReducers)({currencyExchange:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXCHANGE":var e=function(n){return n.inputCurrency.currency===n.outputCurrency.currency||n.availableInputAmount<Number(n.inputAmount)||!n.inputAmount?n.pocket:n.pocket.map(function(t){return t.currency===n.inputCurrency.currency?Object(S.a)({},t,{amount:P(t.amount-=Number(n.inputAmount))}):t.currency===n.outputCurrency.currency?Object(S.a)({},t,{amount:P(t.amount+=Number(n.outputAmount))}):t})}(n);return Object(S.a)({},n,{inputAmount:"0",outputAmount:"0",availableInputAmount:G(e,n.inputCurrency),availableOutputAmount:G(e,n.outputCurrency),pocket:e});case"CHANGE_INPUT_AMOUNT":return Object(S.a)({},n,{inputAmount:String(t.amount),outputAmount:String(P(t.amount*n.currencyRate)),lastUpdatedAmount:"input"});case"CHANGE_INPUT_CURRENCY":return Object(S.a)({},n,{inputCurrency:t.currency,availableInputAmount:G(n.pocket,t.currency)});case"CHANGE_OUTPUT_AMOUNT":return Object(S.a)({},n,{inputAmount:String(P(t.amount/n.currencyRate)),outputAmount:String(t.amount),lastUpdatedAmount:"output"});case"CHANGE_OUTPUT_CURRENCY":return Object(S.a)({},n,{outputCurrency:t.currency,availableOutputAmount:G(n.pocket,t.currency)});case"UPDATE_ALL_CURRENCIES":return Object(S.a)({},n,{outputCurrency:t.outputCurrency,inputCurrency:t.inputCurrency,availableInputAmount:G(n.pocket,t.inputCurrency),availableOutputAmount:G(n.pocket,t.outputCurrency)});case"LOAD_CURRENCY_RATES":return Object(S.a)({},n,{loadingRates:!0});case"RECEIVE_CURRENCY_RATES":return Object(S.a)({},n,{loadingRates:!1,currencyRate:P(t.rate,1e4),outputAmount:"input"===n.lastUpdatedAmount?String(P(n.inputAmount*t.rate)):n.outputAmount,inputAmount:"output"===n.lastUpdatedAmount?String(P(n.outputAmount/t.rate)):n.inputAmount});case"ERROR_CURRENCY_RATES":return Object(S.a)({},n,{loadingRates:!1});default:return n}}}),H=(e(89),e(63)),D=Object(w.createStore)(Y,Object(w.applyMiddleware)(H.a));Object(T.render)(u.a.createElement(c.a,{store:D},u.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[66,1,2]]]);
//# sourceMappingURL=main.d9947f4f.chunk.js.map